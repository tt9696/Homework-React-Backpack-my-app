{"ast":null,"code":"/*\n * Backpack - Skyscanner's Design System\n *\n * Copyright 2016 Skyscanner Ltd\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { PureComponent } from 'react';\nimport { cssModules } from \"../../bpk-react-utils\";\nimport STYLES from \"./BpkCalendarDate.module.css\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nconst getClassName = cssModules(STYLES);\nexport const SELECTION_TYPES = {\n  none: 'none',\n  single: 'single',\n  start: 'start',\n  middle: 'middle',\n  end: 'end',\n  sameDay: 'sameDay'\n};\nexport const ROW_TYPES = {\n  start: 'start',\n  middle: 'middle',\n  end: 'end',\n  both: 'both'\n};\nconst navigatedByMonthNudger = () => document?.activeElement?.id && document.activeElement.id.indexOf('month_nudger') !== -1;\nclass BpkCalendarDate extends PureComponent {\n  static defaultProps = {\n    className: null,\n    isBlocked: false,\n    isFocused: false,\n    isKeyboardFocusable: true,\n    isOutside: false,\n    isSelected: false,\n    isToday: false,\n    modifiers: {},\n    onClick: null,\n    onDateKeyDown: () => {},\n    preventKeyboardFocus: true,\n    selectionType: SELECTION_TYPES.none,\n    style: {}\n  };\n  componentDidMount() {\n    if (!this.props.preventKeyboardFocus && this.props.isFocused) {\n      // If we got here by clicking the nudger, don't focus this date\n      if (!navigatedByMonthNudger()) {\n        // Giving focus after instantiation\n        this.button?.focus();\n      }\n    }\n  }\n  componentDidUpdate(prevProps) {\n    if (!this.props.isKeyboardFocusable || this.props.preventKeyboardFocus || navigatedByMonthNudger()) {\n      return;\n    }\n\n    // Giving focus after keyboard navigation\n    if (!prevProps.isFocused && this.props.isFocused && this.props.isKeyboardFocusable) {\n      this.button?.focus();\n      return;\n    }\n\n    // Giving focus after changing months with transition\n    if (this.props.isFocused && !prevProps.isKeyboardFocusable && this.props.isKeyboardFocusable) {\n      this.button?.focus();\n    }\n  }\n  button = null;\n  render() {\n    const {\n      className,\n      date,\n      isBlocked,\n      isFocused,\n      isKeyboardFocusable,\n      isOutside,\n      isSelected,\n      isToday,\n      modifiers,\n      onClick,\n      onDateKeyDown,\n      selectionType,\n      style,\n      ...buttonProps\n    } = this.props;\n    const classNames = [getClassName('bpk-calendar-date')];\n    Object.keys(modifiers).forEach(modifier => {\n      if (modifiers[modifier](this.props)) {\n        classNames.push(getClassName(`bpk-calendar-date--modifier-${modifier}`));\n      }\n    });\n    if (isFocused) {\n      classNames.push(getClassName('bpk-calendar-date--focused'));\n    }\n    if (isSelected) {\n      classNames.push(getClassName('bpk-calendar-date--selected'));\n    }\n    if (isBlocked) {\n      classNames.push(getClassName('bpk-calendar-date--blocked'));\n    }\n    if (isOutside) {\n      classNames.push(getClassName('bpk-calendar-date--outside'));\n    }\n    if (selectionType !== SELECTION_TYPES.none) {\n      classNames.push(getClassName(`bpk-calendar-date--${selectionType}`));\n    }\n    if (className) {\n      classNames.push(className);\n    }\n    delete buttonProps.preventKeyboardFocus;\n    return /*#__PURE__*/_jsx(\"button\", {\n      type: \"button\",\n      style: style,\n      className: classNames.join(' '),\n      \"aria-hidden\": isBlocked,\n      \"aria-label\": `${date.getDate()}`,\n      disabled: isBlocked,\n      tabIndex: isKeyboardFocusable && isFocused ? 0 : -1,\n      onClick: () => {\n        if (onClick) {\n          onClick(date);\n        }\n      },\n      onKeyDown: onDateKeyDown,\n      \"aria-pressed\": isSelected,\n      ref: button => {\n        this.button = button;\n      },\n      ...buttonProps,\n      children: /*#__PURE__*/_jsx(\"span\", {\n        \"aria-hidden\": \"true\",\n        children: date.getDate()\n      })\n    });\n  }\n}\nexport default BpkCalendarDate;","map":{"version":3,"names":["PureComponent","cssModules","STYLES","jsx","_jsx","getClassName","SELECTION_TYPES","none","single","start","middle","end","sameDay","ROW_TYPES","both","navigatedByMonthNudger","document","activeElement","id","indexOf","BpkCalendarDate","defaultProps","className","isBlocked","isFocused","isKeyboardFocusable","isOutside","isSelected","isToday","modifiers","onClick","onDateKeyDown","preventKeyboardFocus","selectionType","style","componentDidMount","props","button","focus","componentDidUpdate","prevProps","render","date","buttonProps","classNames","Object","keys","forEach","modifier","push","type","join","getDate","disabled","tabIndex","onKeyDown","ref","children"],"sources":["C:/Users/Dell/my-app/node_modules/@skyscanner/backpack-web/bpk-component-calendar/src/BpkCalendarDate.js"],"sourcesContent":["/*\n * Backpack - Skyscanner's Design System\n *\n * Copyright 2016 Skyscanner Ltd\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { PureComponent } from 'react';\nimport { cssModules } from \"../../bpk-react-utils\";\nimport STYLES from \"./BpkCalendarDate.module.css\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nconst getClassName = cssModules(STYLES);\nexport const SELECTION_TYPES = {\n  none: 'none',\n  single: 'single',\n  start: 'start',\n  middle: 'middle',\n  end: 'end',\n  sameDay: 'sameDay'\n};\nexport const ROW_TYPES = {\n  start: 'start',\n  middle: 'middle',\n  end: 'end',\n  both: 'both'\n};\nconst navigatedByMonthNudger = () => document?.activeElement?.id && document.activeElement.id.indexOf('month_nudger') !== -1;\nclass BpkCalendarDate extends PureComponent {\n  static defaultProps = {\n    className: null,\n    isBlocked: false,\n    isFocused: false,\n    isKeyboardFocusable: true,\n    isOutside: false,\n    isSelected: false,\n    isToday: false,\n    modifiers: {},\n    onClick: null,\n    onDateKeyDown: () => {},\n    preventKeyboardFocus: true,\n    selectionType: SELECTION_TYPES.none,\n    style: {}\n  };\n  componentDidMount() {\n    if (!this.props.preventKeyboardFocus && this.props.isFocused) {\n      // If we got here by clicking the nudger, don't focus this date\n      if (!navigatedByMonthNudger()) {\n        // Giving focus after instantiation\n        this.button?.focus();\n      }\n    }\n  }\n  componentDidUpdate(prevProps) {\n    if (!this.props.isKeyboardFocusable || this.props.preventKeyboardFocus || navigatedByMonthNudger()) {\n      return;\n    }\n\n    // Giving focus after keyboard navigation\n    if (!prevProps.isFocused && this.props.isFocused && this.props.isKeyboardFocusable) {\n      this.button?.focus();\n      return;\n    }\n\n    // Giving focus after changing months with transition\n    if (this.props.isFocused && !prevProps.isKeyboardFocusable && this.props.isKeyboardFocusable) {\n      this.button?.focus();\n    }\n  }\n  button = null;\n  render() {\n    const {\n      className,\n      date,\n      isBlocked,\n      isFocused,\n      isKeyboardFocusable,\n      isOutside,\n      isSelected,\n      isToday,\n      modifiers,\n      onClick,\n      onDateKeyDown,\n      selectionType,\n      style,\n      ...buttonProps\n    } = this.props;\n    const classNames = [getClassName('bpk-calendar-date')];\n    Object.keys(modifiers).forEach(modifier => {\n      if (modifiers[modifier](this.props)) {\n        classNames.push(getClassName(`bpk-calendar-date--modifier-${modifier}`));\n      }\n    });\n    if (isFocused) {\n      classNames.push(getClassName('bpk-calendar-date--focused'));\n    }\n    if (isSelected) {\n      classNames.push(getClassName('bpk-calendar-date--selected'));\n    }\n    if (isBlocked) {\n      classNames.push(getClassName('bpk-calendar-date--blocked'));\n    }\n    if (isOutside) {\n      classNames.push(getClassName('bpk-calendar-date--outside'));\n    }\n    if (selectionType !== SELECTION_TYPES.none) {\n      classNames.push(getClassName(`bpk-calendar-date--${selectionType}`));\n    }\n    if (className) {\n      classNames.push(className);\n    }\n    delete buttonProps.preventKeyboardFocus;\n    return /*#__PURE__*/_jsx(\"button\", {\n      type: \"button\",\n      style: style,\n      className: classNames.join(' '),\n      \"aria-hidden\": isBlocked,\n      \"aria-label\": `${date.getDate()}`,\n      disabled: isBlocked,\n      tabIndex: isKeyboardFocusable && isFocused ? 0 : -1,\n      onClick: () => {\n        if (onClick) {\n          onClick(date);\n        }\n      },\n      onKeyDown: onDateKeyDown,\n      \"aria-pressed\": isSelected,\n      ref: button => {\n        this.button = button;\n      },\n      ...buttonProps,\n      children: /*#__PURE__*/_jsx(\"span\", {\n        \"aria-hidden\": \"true\",\n        children: date.getDate()\n      })\n    });\n  }\n}\nexport default BpkCalendarDate;"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,SAASA,aAAa,QAAQ,OAAO;AACrC,SAASC,UAAU,QAAQ,uBAAuB;AAClD,OAAOC,MAAM,MAAM,8BAA8B;AACjD,SAASC,GAAG,IAAIC,IAAI,QAAQ,mBAAmB;AAC/C,MAAMC,YAAY,GAAGJ,UAAU,CAACC,MAAM,CAAC;AACvC,OAAO,MAAMI,eAAe,GAAG;EAC7BC,IAAI,EAAE,MAAM;EACZC,MAAM,EAAE,QAAQ;EAChBC,KAAK,EAAE,OAAO;EACdC,MAAM,EAAE,QAAQ;EAChBC,GAAG,EAAE,KAAK;EACVC,OAAO,EAAE;AACX,CAAC;AACD,OAAO,MAAMC,SAAS,GAAG;EACvBJ,KAAK,EAAE,OAAO;EACdC,MAAM,EAAE,QAAQ;EAChBC,GAAG,EAAE,KAAK;EACVG,IAAI,EAAE;AACR,CAAC;AACD,MAAMC,sBAAsB,GAAGA,CAAA,KAAMC,QAAQ,EAAEC,aAAa,EAAEC,EAAE,IAAIF,QAAQ,CAACC,aAAa,CAACC,EAAE,CAACC,OAAO,CAAC,cAAc,CAAC,KAAK,CAAC,CAAC;AAC5H,MAAMC,eAAe,SAASpB,aAAa,CAAC;EAC1C,OAAOqB,YAAY,GAAG;IACpBC,SAAS,EAAE,IAAI;IACfC,SAAS,EAAE,KAAK;IAChBC,SAAS,EAAE,KAAK;IAChBC,mBAAmB,EAAE,IAAI;IACzBC,SAAS,EAAE,KAAK;IAChBC,UAAU,EAAE,KAAK;IACjBC,OAAO,EAAE,KAAK;IACdC,SAAS,EAAE,CAAC,CAAC;IACbC,OAAO,EAAE,IAAI;IACbC,aAAa,EAAEA,CAAA,KAAM,CAAC,CAAC;IACvBC,oBAAoB,EAAE,IAAI;IAC1BC,aAAa,EAAE3B,eAAe,CAACC,IAAI;IACnC2B,KAAK,EAAE,CAAC;EACV,CAAC;EACDC,iBAAiBA,CAAA,EAAG;IAClB,IAAI,CAAC,IAAI,CAACC,KAAK,CAACJ,oBAAoB,IAAI,IAAI,CAACI,KAAK,CAACZ,SAAS,EAAE;MAC5D;MACA,IAAI,CAACT,sBAAsB,CAAC,CAAC,EAAE;QAC7B;QACA,IAAI,CAACsB,MAAM,EAAEC,KAAK,CAAC,CAAC;MACtB;IACF;EACF;EACAC,kBAAkBA,CAACC,SAAS,EAAE;IAC5B,IAAI,CAAC,IAAI,CAACJ,KAAK,CAACX,mBAAmB,IAAI,IAAI,CAACW,KAAK,CAACJ,oBAAoB,IAAIjB,sBAAsB,CAAC,CAAC,EAAE;MAClG;IACF;;IAEA;IACA,IAAI,CAACyB,SAAS,CAAChB,SAAS,IAAI,IAAI,CAACY,KAAK,CAACZ,SAAS,IAAI,IAAI,CAACY,KAAK,CAACX,mBAAmB,EAAE;MAClF,IAAI,CAACY,MAAM,EAAEC,KAAK,CAAC,CAAC;MACpB;IACF;;IAEA;IACA,IAAI,IAAI,CAACF,KAAK,CAACZ,SAAS,IAAI,CAACgB,SAAS,CAACf,mBAAmB,IAAI,IAAI,CAACW,KAAK,CAACX,mBAAmB,EAAE;MAC5F,IAAI,CAACY,MAAM,EAAEC,KAAK,CAAC,CAAC;IACtB;EACF;EACAD,MAAM,GAAG,IAAI;EACbI,MAAMA,CAAA,EAAG;IACP,MAAM;MACJnB,SAAS;MACToB,IAAI;MACJnB,SAAS;MACTC,SAAS;MACTC,mBAAmB;MACnBC,SAAS;MACTC,UAAU;MACVC,OAAO;MACPC,SAAS;MACTC,OAAO;MACPC,aAAa;MACbE,aAAa;MACbC,KAAK;MACL,GAAGS;IACL,CAAC,GAAG,IAAI,CAACP,KAAK;IACd,MAAMQ,UAAU,GAAG,CAACvC,YAAY,CAAC,mBAAmB,CAAC,CAAC;IACtDwC,MAAM,CAACC,IAAI,CAACjB,SAAS,CAAC,CAACkB,OAAO,CAACC,QAAQ,IAAI;MACzC,IAAInB,SAAS,CAACmB,QAAQ,CAAC,CAAC,IAAI,CAACZ,KAAK,CAAC,EAAE;QACnCQ,UAAU,CAACK,IAAI,CAAC5C,YAAY,CAAC,+BAA+B2C,QAAQ,EAAE,CAAC,CAAC;MAC1E;IACF,CAAC,CAAC;IACF,IAAIxB,SAAS,EAAE;MACboB,UAAU,CAACK,IAAI,CAAC5C,YAAY,CAAC,4BAA4B,CAAC,CAAC;IAC7D;IACA,IAAIsB,UAAU,EAAE;MACdiB,UAAU,CAACK,IAAI,CAAC5C,YAAY,CAAC,6BAA6B,CAAC,CAAC;IAC9D;IACA,IAAIkB,SAAS,EAAE;MACbqB,UAAU,CAACK,IAAI,CAAC5C,YAAY,CAAC,4BAA4B,CAAC,CAAC;IAC7D;IACA,IAAIqB,SAAS,EAAE;MACbkB,UAAU,CAACK,IAAI,CAAC5C,YAAY,CAAC,4BAA4B,CAAC,CAAC;IAC7D;IACA,IAAI4B,aAAa,KAAK3B,eAAe,CAACC,IAAI,EAAE;MAC1CqC,UAAU,CAACK,IAAI,CAAC5C,YAAY,CAAC,sBAAsB4B,aAAa,EAAE,CAAC,CAAC;IACtE;IACA,IAAIX,SAAS,EAAE;MACbsB,UAAU,CAACK,IAAI,CAAC3B,SAAS,CAAC;IAC5B;IACA,OAAOqB,WAAW,CAACX,oBAAoB;IACvC,OAAO,aAAa5B,IAAI,CAAC,QAAQ,EAAE;MACjC8C,IAAI,EAAE,QAAQ;MACdhB,KAAK,EAAEA,KAAK;MACZZ,SAAS,EAAEsB,UAAU,CAACO,IAAI,CAAC,GAAG,CAAC;MAC/B,aAAa,EAAE5B,SAAS;MACxB,YAAY,EAAE,GAAGmB,IAAI,CAACU,OAAO,CAAC,CAAC,EAAE;MACjCC,QAAQ,EAAE9B,SAAS;MACnB+B,QAAQ,EAAE7B,mBAAmB,IAAID,SAAS,GAAG,CAAC,GAAG,CAAC,CAAC;MACnDM,OAAO,EAAEA,CAAA,KAAM;QACb,IAAIA,OAAO,EAAE;UACXA,OAAO,CAACY,IAAI,CAAC;QACf;MACF,CAAC;MACDa,SAAS,EAAExB,aAAa;MACxB,cAAc,EAAEJ,UAAU;MAC1B6B,GAAG,EAAEnB,MAAM,IAAI;QACb,IAAI,CAACA,MAAM,GAAGA,MAAM;MACtB,CAAC;MACD,GAAGM,WAAW;MACdc,QAAQ,EAAE,aAAarD,IAAI,CAAC,MAAM,EAAE;QAClC,aAAa,EAAE,MAAM;QACrBqD,QAAQ,EAAEf,IAAI,CAACU,OAAO,CAAC;MACzB,CAAC;IACH,CAAC,CAAC;EACJ;AACF;AACA,eAAehC,eAAe","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}