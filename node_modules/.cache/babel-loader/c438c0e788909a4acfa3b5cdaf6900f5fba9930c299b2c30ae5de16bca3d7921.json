{"ast":null,"code":"/*\n * Backpack - Skyscanner's Design System\n *\n * Copyright 2016 Skyscanner Ltd\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Component, createElement as _createElement } from 'react';\nimport { cssModules, isRTL } from \"../../bpk-react-utils\";\nimport { addMonths, isSameMonth, formatIsoMonth, differenceInCalendarMonths, dateToBoundaries, startOfDay, setMonthYear, isWithinRange, getMonthRange } from \"./date-utils\";\nimport { getCalendarGridWidth, getTransformStyles, isTransitionEndSupported } from \"./utils\";\nimport STYLES from \"./BpkCalendarGridTransition.module.css\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nconst getClassName = cssModules(STYLES);\nconst transitionValues = {\n  previous: '0px',\n  current: getCalendarGridWidth(-1),\n  next: getCalendarGridWidth(-2)\n};\nconst getFocusedDateForMonth = (month, currentFocusedDate, minDate, maxDate) => dateToBoundaries(setMonthYear(currentFocusedDate, month.getMonth(), month.getFullYear()), startOfDay(minDate), startOfDay(maxDate));\nclass BpkCalendarGridTransition extends Component {\n  static defaultProps = {\n    className: null,\n    month: new Date(),\n    focusedDate: null\n  };\n  constructor(props) {\n    super(props);\n    const {\n      month = new Date()\n    } = props;\n    this.onMonthTransitionEnd = this.onMonthTransitionEnd.bind(this);\n    this.state = {\n      isTransitioning: false,\n      transitionValue: transitionValues.current,\n      // Used in a test so this is valid usage.\n      // eslint-disable-next-line react/no-unused-state\n      currentMonth: props.month,\n      months: [addMonths(month, -1), month, addMonths(month, 1)]\n    };\n    this.isTransitionEndSupported = isTransitionEndSupported();\n  }\n  UNSAFE_componentWillReceiveProps({\n    month: nextMonth = new Date()\n  }) {\n    const {\n      month = new Date()\n    } = this.props;\n    const hasMonthChanged = !isSameMonth(month, nextMonth);\n    if (hasMonthChanged) {\n      const reverse = isRTL();\n      if (differenceInCalendarMonths(nextMonth, month) === 1) {\n        // Transition to next month\n        this.setState({\n          transitionValue: reverse ? transitionValues.previous : transitionValues.next,\n          isTransitioning: true\n        });\n        return;\n      }\n      if (differenceInCalendarMonths(nextMonth, month) === -1) {\n        // Transition to previous month\n        this.setState({\n          transitionValue: reverse ? transitionValues.next : transitionValues.previous,\n          isTransitioning: true\n        });\n        return;\n      }\n      this.setState({\n        // Used in a test so this is valid usage.\n        // eslint-disable-next-line react/no-unused-state\n        currentMonth: nextMonth,\n        months: [addMonths(nextMonth, -1), nextMonth, addMonths(nextMonth, 1)]\n      });\n    }\n  }\n  componentDidUpdate() {\n    // For IE9, immediately call onMonthTransitionEnd instead of\n    // waiting for the animation to complete\n    // Thx to Airbnb's react-dates <3\n    if (!this.isTransitionEndSupported && this.state.isTransitioning) {\n      this.onMonthTransitionEnd();\n    }\n  }\n  onMonthTransitionEnd() {\n    const {\n      month = new Date()\n    } = this.props;\n    this.setState({\n      transitionValue: transitionValues.current,\n      isTransitioning: false,\n      // Used in a test so this is valid usage.\n      // eslint-disable-next-line react/no-unused-state\n      currentMonth: month,\n      months: [addMonths(month, -1), month, addMonths(month, 1)]\n    });\n  }\n  render() {\n    const {\n      TransitionComponent,\n      className = null,\n      focusedDate = null,\n      ...rest\n    } = this.props;\n    const {\n      isTransitioning,\n      transitionValue\n    } = this.state;\n    const stripClassNames = getClassName('bpk-calendar-grid-transition__strip', isTransitioning && 'bpk-calendar-grid-transition__strip--transitioning');\n    let min;\n    let max;\n    if (rest.minDate && rest.maxDate) {\n      ({\n        max,\n        min\n      } = getMonthRange(rest.minDate, rest.maxDate));\n    }\n    return /*#__PURE__*/_jsx(\"div\", {\n      className: getClassName('bpk-calendar-grid-transition', className),\n      children: /*#__PURE__*/_jsx(\"div\", {\n        className: stripClassNames,\n        style: getTransformStyles(transitionValue),\n        onTransitionEnd: this.onMonthTransitionEnd,\n        children: this.state.months.map((m, index) => min && max && isWithinRange(m, {\n          start: min,\n          end: max\n        }) ? /*#__PURE__*/_createElement(TransitionComponent, {\n          ...rest,\n          key: formatIsoMonth(m),\n          month: m,\n          preventKeyboardFocus: index !== 1 || rest.preventKeyboardFocus,\n          isKeyboardFocusable: !isTransitioning && index === 1,\n          focusedDate: index === 1 ? focusedDate : getFocusedDateForMonth(m, focusedDate, rest.minDate, rest.maxDate),\n          \"aria-hidden\": index !== 1,\n          className: getClassName('bpk-calendar-grid-transition__grid')\n        }) : /*#__PURE__*/_jsx(\"div\", {\n          className: getClassName('bpk-calendar-grid-transition__dummy')\n        }, formatIsoMonth(m)))\n      })\n    });\n  }\n}\nconst addCalendarGridTransition = TransitionComponent => props => /*#__PURE__*/_jsx(BpkCalendarGridTransition, {\n  ...props,\n  TransitionComponent: TransitionComponent\n});\nexport default BpkCalendarGridTransition;\nexport { addCalendarGridTransition };","map":{"version":3,"names":["Component","createElement","_createElement","cssModules","isRTL","addMonths","isSameMonth","formatIsoMonth","differenceInCalendarMonths","dateToBoundaries","startOfDay","setMonthYear","isWithinRange","getMonthRange","getCalendarGridWidth","getTransformStyles","isTransitionEndSupported","STYLES","jsx","_jsx","getClassName","transitionValues","previous","current","next","getFocusedDateForMonth","month","currentFocusedDate","minDate","maxDate","getMonth","getFullYear","BpkCalendarGridTransition","defaultProps","className","Date","focusedDate","constructor","props","onMonthTransitionEnd","bind","state","isTransitioning","transitionValue","currentMonth","months","UNSAFE_componentWillReceiveProps","nextMonth","hasMonthChanged","reverse","setState","componentDidUpdate","render","TransitionComponent","rest","stripClassNames","min","max","children","style","onTransitionEnd","map","m","index","start","end","key","preventKeyboardFocus","isKeyboardFocusable","addCalendarGridTransition"],"sources":["C:/Users/Dell/my-app/node_modules/@skyscanner/backpack-web/bpk-component-calendar/src/BpkCalendarGridTransition.js"],"sourcesContent":["/*\n * Backpack - Skyscanner's Design System\n *\n * Copyright 2016 Skyscanner Ltd\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Component, createElement as _createElement } from 'react';\nimport { cssModules, isRTL } from \"../../bpk-react-utils\";\nimport { addMonths, isSameMonth, formatIsoMonth, differenceInCalendarMonths, dateToBoundaries, startOfDay, setMonthYear, isWithinRange, getMonthRange } from \"./date-utils\";\nimport { getCalendarGridWidth, getTransformStyles, isTransitionEndSupported } from \"./utils\";\nimport STYLES from \"./BpkCalendarGridTransition.module.css\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nconst getClassName = cssModules(STYLES);\nconst transitionValues = {\n  previous: '0px',\n  current: getCalendarGridWidth(-1),\n  next: getCalendarGridWidth(-2)\n};\nconst getFocusedDateForMonth = (month, currentFocusedDate, minDate, maxDate) => dateToBoundaries(setMonthYear(currentFocusedDate, month.getMonth(), month.getFullYear()), startOfDay(minDate), startOfDay(maxDate));\nclass BpkCalendarGridTransition extends Component {\n  static defaultProps = {\n    className: null,\n    month: new Date(),\n    focusedDate: null\n  };\n  constructor(props) {\n    super(props);\n    const {\n      month = new Date()\n    } = props;\n    this.onMonthTransitionEnd = this.onMonthTransitionEnd.bind(this);\n    this.state = {\n      isTransitioning: false,\n      transitionValue: transitionValues.current,\n      // Used in a test so this is valid usage.\n      // eslint-disable-next-line react/no-unused-state\n      currentMonth: props.month,\n      months: [addMonths(month, -1), month, addMonths(month, 1)]\n    };\n    this.isTransitionEndSupported = isTransitionEndSupported();\n  }\n  UNSAFE_componentWillReceiveProps({\n    month: nextMonth = new Date()\n  }) {\n    const {\n      month = new Date()\n    } = this.props;\n    const hasMonthChanged = !isSameMonth(month, nextMonth);\n    if (hasMonthChanged) {\n      const reverse = isRTL();\n      if (differenceInCalendarMonths(nextMonth, month) === 1) {\n        // Transition to next month\n        this.setState({\n          transitionValue: reverse ? transitionValues.previous : transitionValues.next,\n          isTransitioning: true\n        });\n        return;\n      }\n      if (differenceInCalendarMonths(nextMonth, month) === -1) {\n        // Transition to previous month\n        this.setState({\n          transitionValue: reverse ? transitionValues.next : transitionValues.previous,\n          isTransitioning: true\n        });\n        return;\n      }\n      this.setState({\n        // Used in a test so this is valid usage.\n        // eslint-disable-next-line react/no-unused-state\n        currentMonth: nextMonth,\n        months: [addMonths(nextMonth, -1), nextMonth, addMonths(nextMonth, 1)]\n      });\n    }\n  }\n  componentDidUpdate() {\n    // For IE9, immediately call onMonthTransitionEnd instead of\n    // waiting for the animation to complete\n    // Thx to Airbnb's react-dates <3\n    if (!this.isTransitionEndSupported && this.state.isTransitioning) {\n      this.onMonthTransitionEnd();\n    }\n  }\n  onMonthTransitionEnd() {\n    const {\n      month = new Date()\n    } = this.props;\n    this.setState({\n      transitionValue: transitionValues.current,\n      isTransitioning: false,\n      // Used in a test so this is valid usage.\n      // eslint-disable-next-line react/no-unused-state\n      currentMonth: month,\n      months: [addMonths(month, -1), month, addMonths(month, 1)]\n    });\n  }\n  render() {\n    const {\n      TransitionComponent,\n      className = null,\n      focusedDate = null,\n      ...rest\n    } = this.props;\n    const {\n      isTransitioning,\n      transitionValue\n    } = this.state;\n    const stripClassNames = getClassName('bpk-calendar-grid-transition__strip', isTransitioning && 'bpk-calendar-grid-transition__strip--transitioning');\n    let min;\n    let max;\n    if (rest.minDate && rest.maxDate) {\n      ({\n        max,\n        min\n      } = getMonthRange(rest.minDate, rest.maxDate));\n    }\n    return /*#__PURE__*/_jsx(\"div\", {\n      className: getClassName('bpk-calendar-grid-transition', className),\n      children: /*#__PURE__*/_jsx(\"div\", {\n        className: stripClassNames,\n        style: getTransformStyles(transitionValue),\n        onTransitionEnd: this.onMonthTransitionEnd,\n        children: this.state.months.map((m, index) => min && max && isWithinRange(m, {\n          start: min,\n          end: max\n        }) ? /*#__PURE__*/_createElement(TransitionComponent, {\n          ...rest,\n          key: formatIsoMonth(m),\n          month: m,\n          preventKeyboardFocus: index !== 1 || rest.preventKeyboardFocus,\n          isKeyboardFocusable: !isTransitioning && index === 1,\n          focusedDate: index === 1 ? focusedDate : getFocusedDateForMonth(m, focusedDate, rest.minDate, rest.maxDate),\n          \"aria-hidden\": index !== 1,\n          className: getClassName('bpk-calendar-grid-transition__grid')\n        }) : /*#__PURE__*/_jsx(\"div\", {\n          className: getClassName('bpk-calendar-grid-transition__dummy')\n        }, formatIsoMonth(m)))\n      })\n    });\n  }\n}\nconst addCalendarGridTransition = TransitionComponent => props => /*#__PURE__*/_jsx(BpkCalendarGridTransition, {\n  ...props,\n  TransitionComponent: TransitionComponent\n});\nexport default BpkCalendarGridTransition;\nexport { addCalendarGridTransition };"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}